<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CAMISAS 10</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            text-align: center;
            padding: 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '⚽';
            position: absolute;
            font-size: 100px;
            opacity: 0.1;
            right: -20px;
            top: -20px;
            animation: rotate 10s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .content {
            padding: 30px;
        }

        .section {
            margin-bottom: 40px;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
        }

        .section:hover {
            transform: translateY(-2px);
        }

        .section h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 3px solid #4CAF50;
            padding-bottom: 10px;
        }

        .teams-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 20px 0;
        }

        .team {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid #4CAF50;
        }

        .team h3 {
            color: #4CAF50;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .player-list {
            list-style: none;
        }

        .player-list li {
            background: #f0f0f0;
            margin: 5px 0;
            padding: 8px 12px;
            border-radius: 5px;
            transition: background 0.3s ease;
        }

        .player-list li:hover {
            background: #e0e0e0;
        }

        .controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #2196F3, #1976D2);
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
        }

        .btn-secondary:hover {
            box-shadow: 0 6px 20px rgba(33, 150, 243, 0.4);
        }

        .result-controls {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .result-controls label {
            font-weight: bold;
            color: #333;
        }

        .result-controls select {
            padding: 8px 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .result-controls select:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .ranking-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .ranking-table th {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: bold;
        }

        .ranking-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
            transition: background 0.3s ease;
        }

        .ranking-table tr:hover {
            background: #f5f5f5;
        }

        .ranking-table tr:nth-child(even) {
            background: #fafafa;
        }

        .ranking-table tr:nth-child(even):hover {
            background: #f0f0f0;
        }

        .position {
            font-weight: bold;
            color: #4CAF50;
            font-size: 1.1em;
        }

        .top3 {
            background: linear-gradient(135deg, #FFD700, #FFA500) !important;
            color: white;
            font-weight: bold;
        }

        .player-config {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .player-input {
            display: flex;
            align-items: center;
            gap: 10px;
            background: white;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .player-input label {
            font-weight: bold;
            min-width: 35px;
            color: #4CAF50;
            font-size: 14px;
            flex-shrink: 0;
        }

        .player-input input {
            flex: 1;
            padding: 8px 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            transition: border-color 0.3s ease;
        }

        .player-input input:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-top: 4px solid #4CAF50;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #4CAF50;
        }

        .stat-label {
            color: #666;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .teams-container {
                grid-template-columns: 1fr;
            }
            
            .controls {
                justify-content: center;
            }
            
            .result-controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .player-config {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>⚽ Liga Individual - CAMISAS 10</h1>
            <p>Que vença o melhor!</p>
        </div>
        
        <div class="content">
            <!-- Configuração dos Jogadores -->
            <div class="section">
                <h2>👥 Configuração dos Jogadores</h2>
                <div class="player-config" id="playerConfig">
                    <!-- Será preenchido pelo JavaScript -->
                </div>
                <div class="controls">
                    <button class="btn" onclick="resetPlayers()">🔄 Resetar Nomes</button>
                    <button class="btn btn-secondary" onclick="savePlayers()">💾 Salvar Configuração</button>
                </div>
            </div>

            <!-- Estatísticas -->
            <div class="section">
                <h2>📊 Estatísticas</h2>
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-number" id="totalGames">0</div>
                        <div class="stat-label">Jogos Realizados</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalPlayers">18</div>
                        <div class="stat-label">Jogadores Ativos</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="leaderPoints">0</div>
                        <div class="stat-label">Pontos do Líder</div>
                    </div>
                </div>
            </div>

            <!-- Sorteio de Times -->
            <div class="section">
                <h2>🎲 Sorteio de Times</h2>
                <div class="controls">
                    <button class="btn" onclick="drawTeams()">🎯 Sortear Times</button>
                    <!--<button class="btn btn-secondary" onclick="redrawTeams()">🔄 Novo Sorteio</button>-->
                </div>
                
                <div class="teams-container" id="teamsContainer" style="display: none;">
                    <div class="team">
                        <h3>🔴 Time A</h3>
                        <ul class="player-list" id="teamA"></ul>
                    </div>
                    <div class="team">
                        <h3>🔵 Time B</h3>
                        <ul class="player-list" id="teamB"></ul>
                    </div>
                </div>
            </div>

            <!-- Registro de Resultado -->
            <div class="section" id="resultSection" style="display: none;">
                <h2>📝 Registrar Resultado</h2>
                <div class="result-controls">
                    <label>Resultado do Jogo:</label>
                    <select id="gameResult">
                        <option value="">Selecione o resultado</option>
                        <option value="teamA">🔴 Time A Venceu</option>
                        <option value="teamB">🔵 Time B Venceu</option>
                        <option value="draw">⚖️ Empate</option>
                    </select>
                    <button class="btn" onclick="registerResult()">✅ Registrar</button>
                </div>
            </div>

            <!-- Classificação -->
            <div class="section">
                <h2>🏆 Classificação Geral</h2>
                <table class="ranking-table">
                    <thead>
                        <tr>
                            <th>Posição</th>
                            <th>Jogador</th>
                            <th>Pontos</th>
                            <th>Vitórias</th>
                            <th>Empates</th>
                            <th>Derrotas</th>
                        </tr>
                    </thead>
                    <tbody id="rankingTable">
                        <!-- Será preenchido pelo JavaScript -->
                    </tbody>
                </table>
                
                <div class="controls">
                    <!--<button class="btn btn-secondary" onclick="resetAllData()">🗑️ Resetar Todos os Dados</button>-->
                    <button class="btn" onclick="exportData()">📋 Exportar Dados</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Dados dos jogadores
        let players = [];
        let currentTeamA = [];
        let currentTeamB = [];
        let gameHistory = [];

        // Inicialização
        function initializePlayers() {
            const defaultNames = [
                'Jogador 1', 'Jogador 2', 'Jogador 3', 'Jogador 4', 'Jogador 5', 'Jogador 6',
                'Jogador 7', 'Jogador 8', 'Jogador 9', 'Jogador 10', 'Jogador 11', 'Jogador 12',
                'Jogador 13', 'Jogador 14', 'Jogador 15', 'Jogador 16', 'Jogador 17', 'Jogador 18'
            ];

            // Carrega dados salvos ou usa padrão
            const savedData = localStorage.getItem('footballData');
            if (savedData) {
                const data = JSON.parse(savedData);
                players = data.players || defaultNames.map(name => ({
                    name: name,
                    points: 0,
                    wins: 0,
                    draws: 0,
                    losses: 0
                }));
                gameHistory = data.gameHistory || [];
            } else {
                players = defaultNames.map(name => ({
                    name: name,
                    points: 0,
                    wins: 0,
                    draws: 0,
                    losses: 0
                }));
            }

            renderPlayerConfig();
            updateRanking();
            updateStats();
        }

        function renderPlayerConfig() {
            const container = document.getElementById('playerConfig');
            container.innerHTML = '';
            
            players.forEach((player, index) => {
                const div = document.createElement('div');
                div.className = 'player-input';
                div.innerHTML = `
                    <label>P${index + 1}:</label>
                    <input type="text" value="${player.name}" onchange="updatePlayerName(${index}, this.value)" placeholder="Nome do jogador ${index + 1}">
                `;
                container.appendChild(div);
            });
        }

        function updatePlayerName(index, newName) {
            players[index].name = newName;
            updateRanking();
        }

        function resetPlayers() {
            const defaultNames = [
                'Jogador 1', 'Jogador 2', 'Jogador 3', 'Jogador 4', 'Jogador 5', 'Jogador 6',
                'Jogador 7', 'Jogador 8', 'Jogador 9', 'Jogador 10', 'Jogador 11', 'Jogador 12',
                'Jogador 13', 'Jogador 14', 'Jogador 15', 'Jogador 16', 'Jogador 17', 'Jogador 18'
            ];
            
            players.forEach((player, index) => {
                player.name = defaultNames[index];
            });
            
            renderPlayerConfig();
            updateRanking();
        }

        function savePlayers() {
            const data = {
                players: players,
                gameHistory: gameHistory
            };
            localStorage.setItem('footballData', JSON.stringify(data));
            alert('✅ Configuração salva com sucesso!');
        }

        function drawTeams() {
            // Embaralha os jogadores
            const shuffled = [...players].sort(() => Math.random() - 0.5);
            
            // Divide em dois times de 9 jogadores cada
            currentTeamA = shuffled.slice(0, 9);
            currentTeamB = shuffled.slice(9, 18);
            
            displayTeams();
            document.getElementById('resultSection').style.display = 'block';
        }

        function redrawTeams() {
            drawTeams();
        }

        function displayTeams() {
            const teamAList = document.getElementById('teamA');
            const teamBList = document.getElementById('teamB');
            const container = document.getElementById('teamsContainer');
            
            teamAList.innerHTML = '';
            teamBList.innerHTML = '';
            
            currentTeamA.forEach(player => {
                const li = document.createElement('li');
                li.textContent = player.name;
                teamAList.appendChild(li);
            });
            
            currentTeamB.forEach(player => {
                const li = document.createElement('li');
                li.textContent = player.name;
                teamBList.appendChild(li);
            });
            
            container.style.display = 'grid';
        }

        function registerResult() {
            const result = document.getElementById('gameResult').value;
            if (!result) {
                alert('❌ Por favor, selecione o resultado do jogo!');
                return;
            }
            
            if (currentTeamA.length === 0 || currentTeamB.length === 0) {
                alert('❌ É necessário sortear os times primeiro!');
                return;
            }
            
            // Registra o resultado
            const gameData = {
                teamA: currentTeamA.map(p => p.name),
                teamB: currentTeamB.map(p => p.name),
                result: result,
                date: new Date().toLocaleString('pt-BR')
            };
            
            gameHistory.push(gameData);
            
            // Atualiza pontuação
            if (result === 'teamA') {
                // Time A venceu
                currentTeamA.forEach(player => {
                    const playerIndex = players.findIndex(p => p.name === player.name);
                    players[playerIndex].points += 3;
                    players[playerIndex].wins += 1;
                });
                currentTeamB.forEach(player => {
                    const playerIndex = players.findIndex(p => p.name === player.name);
                    players[playerIndex].losses += 1;
                });
            } else if (result === 'teamB') {
                // Time B venceu
                currentTeamB.forEach(player => {
                    const playerIndex = players.findIndex(p => p.name === player.name);
                    players[playerIndex].points += 3;
                    players[playerIndex].wins += 1;
                });
                currentTeamA.forEach(player => {
                    const playerIndex = players.findIndex(p => p.name === player.name);
                    players[playerIndex].losses += 1;
                });
            } else if (result === 'draw') {
                // Empate
                [...currentTeamA, ...currentTeamB].forEach(player => {
                    const playerIndex = players.findIndex(p => p.name === player.name);
                    players[playerIndex].points += 1;
                    players[playerIndex].draws += 1;
                });
            }
            
            updateRanking();
            updateStats();
            savePlayers();
            
            // Reset da interface
            document.getElementById('gameResult').value = '';
            document.getElementById('resultSection').style.display = 'none';
            document.getElementById('teamsContainer').style.display = 'none';
            currentTeamA = [];
            currentTeamB = [];
            
            alert('✅ Resultado registrado com sucesso!');
        }

        function updateRanking() {
            // Ordena jogadores por pontos (decrescente)
            const sortedPlayers = [...players].sort((a, b) => {
                if (b.points !== a.points) return b.points - a.points;
                if (b.wins !== a.wins) return b.wins - a.wins;
                return b.draws - a.draws;
            });
            
            const tbody = document.getElementById('rankingTable');
            tbody.innerHTML = '';
            
            sortedPlayers.forEach((player, index) => {
                const row = document.createElement('tr');
                if (index < 3) row.className = 'top3';
                
                row.innerHTML = `
                    <td class="position">${index + 1}º</td>
                    <td>${player.name}</td>
                    <td><strong>${player.points}</strong></td>
                    <td>${player.wins}</td>
                    <td>${player.draws}</td>
                    <td>${player.losses}</td>
                `;
                tbody.appendChild(row);
            });
        }

        function updateStats() {
            document.getElementById('totalGames').textContent = gameHistory.length;
            document.getElementById('totalPlayers').textContent = players.length;
            
            const maxPoints = Math.max(...players.map(p => p.points));
            document.getElementById('leaderPoints').textContent = maxPoints;
        }

        function resetAllData() {
            if (confirm('⚠️ Tem certeza que deseja resetar todos os dados? Esta ação não pode ser desfeita!')) {
                players.forEach(player => {
                    player.points = 0;
                    player.wins = 0;
                    player.draws = 0;
                    player.losses = 0;
                });
                gameHistory = [];
                
                updateRanking();
                updateStats();
                savePlayers();
                
                document.getElementById('resultSection').style.display = 'none';
                document.getElementById('teamsContainer').style.display = 'none';
                
                alert('✅ Todos os dados foram resetados!');
            }
        }

        function exportData() {
            const data = {
                players: players,
                gameHistory: gameHistory,
                exportDate: new Date().toLocaleString('pt-BR')
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = `futebol_dados_${new Date().toISOString().split('T')[0]}.json`;
            link.click();
        }

        // Inicialização da aplicação
        document.addEventListener('DOMContentLoaded', initializePlayers);
    </script>
</body>
</html>
